<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <fields>
        <fullName>Class_Content__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Class Content</label>
        <referenceTo>Project__c</referenceTo>
        <relationshipLabel>Classes</relationshipLabel>
        <relationshipName>Classes</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Class_Date__c</fullName>
        <externalId>false</externalId>
        <label>Class Date</label>
        <required>true</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Class_Status__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>When Class Status is set to &quot;Delivered&quot; all registered students will receive an email with details of the project.</inlineHelpText>
        <label>Class Status</label>
        <required>true</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Scheduled</fullName>
                    <default>true</default>
                    <label>Scheduled</label>
                </value>
                <value>
                    <fullName>Delivered</fullName>
                    <default>false</default>
                    <label>Delivered</label>
                </value>
                <value>
                    <fullName>Cancelled</fullName>
                    <default>false</default>
                    <label>Cancelled</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Content_URL__c</fullName>
        <externalId>false</externalId>
        <formula>Class_Content__r.Content_Source__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Content URL</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>I_am_the_leader__c</fullName>
        <externalId>false</externalId>
        <formula>Leader__r.Email    =  $User.Email</formula>
        <inlineHelpText>True if the running user is also the Class Leader</inlineHelpText>
        <label>I am the leader</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Leader__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Leader</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>Contact.Contact_Type__c</field>
                <operation>equals</operation>
                <value>Staff</value>
            </filterItems>
            <infoMessage>If you are sure that this contact should be a class leader, you can clear the filter constraint and try searching again</infoMessage>
            <isOptional>true</isOptional>
        </lookupFilter>
        <referenceTo>Contact</referenceTo>
        <relationshipLabel>Led Classes</relationshipLabel>
        <relationshipName>Led_Classes</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Project_Topic__c</fullName>
        <externalId>false</externalId>
        <formula>Class_Content__r.Topic__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Project Topic</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Session_Leader_Email__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Automatically populated once a Session Leader is assigned via the Attendances Related List</inlineHelpText>
        <label>Session Leader Email</label>
        <required>false</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackTrending>false</trackTrending>
        <type>Email</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Session_Leader_Name__c</fullName>
        <externalId>false</externalId>
        <formula>Leader__r.Full_Name__c</formula>
        <label>Session Leader Name</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Session_Leader_Phone__c</fullName>
        <externalId>false</externalId>
        <formula>Leader__r.MobilePhone</formula>
        <label>Session Leader Phone</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Staff_Count__c</fullName>
        <externalId>false</externalId>
        <label>Assistant Count</label>
        <summaryFilterItems>
            <field>Attendance__c.Role__c</field>
            <operation>equals</operation>
            <value>Assistant</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>Attendance__c.Attendance_Status__c</field>
            <operation>notEqual</operation>
            <value>Cancelled</value>
        </summaryFilterItems>
        <summaryForeignKey>Attendance__c.Class__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Student_Count__c</fullName>
        <externalId>false</externalId>
        <label>Student Count</label>
        <summaryFilterItems>
            <field>Attendance__c.Role__c</field>
            <operation>equals</operation>
            <value>Student</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>Attendance__c.Attendance_Status__c</field>
            <operation>notEqual</operation>
            <value>Cancelled</value>
        </summaryFilterItems>
        <summaryForeignKey>Attendance__c.Class__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
</CustomObject>
