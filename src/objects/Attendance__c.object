<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <fields>
        <fullName>Attendance_Status__c</fullName>
        <externalId>false</externalId>
        <label>Attendance Status</label>
        <required>true</required>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Enrolled</fullName>
                    <default>true</default>
                    <label>Enrolled</label>
                </value>
                <value>
                    <fullName>Attended</fullName>
                    <default>false</default>
                    <label>Attended</label>
                </value>
                <value>
                    <fullName>Cancelled</fullName>
                    <default>false</default>
                    <label>Cancelled</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Class_Date__c</fullName>
        <externalId>false</externalId>
        <formula>Datevalue(Class__r.Class_Date__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Class Date</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Class_Leader_Name__c</fullName>
        <description>Name of the parent class leader</description>
        <externalId>false</externalId>
        <formula>Class__r.Session_Leader_Name__c</formula>
        <inlineHelpText>Name of the class leader</inlineHelpText>
        <label>Class Leader Name</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Class__c</fullName>
        <externalId>false</externalId>
        <label>Class</label>
        <referenceTo>Class__c</referenceTo>
        <relationshipLabel>Attendances</relationshipLabel>
        <relationshipName>Attendances</relationshipName>
        <relationshipOrder>1</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Contact__c</fullName>
        <externalId>false</externalId>
        <label>Contact</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>Contact.Registration_Status__c</field>
                <operation>notEqual</operation>
                <value>Inactive, Withdrawn</value>
            </filterItems>
            <infoMessage>By default, Contacts who are inactive or who have withdrawn are not shown in this list - click on &quot;Show all results&quot; to see all Contacts regardless of Registration Status</infoMessage>
            <isOptional>true</isOptional>
        </lookupFilter>
        <referenceTo>Contact</referenceTo>
        <relationshipLabel>Attendances</relationshipLabel>
        <relationshipName>Attendances</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>DisableButtons__c</fullName>
        <externalId>false</externalId>
        <formula>ISPICKVAL(Attendance_Status__c, &quot;Attended&quot;) || ISPICKVAL( Attendance_Status__c, &quot;Cancelled&quot;)</formula>
        <inlineHelpText>If true, then the attendance buttons on the Lightning page for Class Attendance management get diabled</inlineHelpText>
        <label>DisableButtons</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>FullName__c</fullName>
        <externalId>false</externalId>
        <formula>Contact__r.Full_Name__c</formula>
        <label>FullName</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Notification_email_copy__c</fullName>
        <externalId>false</externalId>
        <label>Notification email copy</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Email</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Post_Class_Email_sent__c</fullName>
        <externalId>false</externalId>
        <formula>NOT isblank( Post_Class_Summary_sent__c )</formula>
        <inlineHelpText>True if the post-class summary email has been sent.  Used to control if the &quot;attended&quot; and &quot;did not attend&quot; buttons are enabled on he Class attendance component</inlineHelpText>
        <label>Post Class Email sent</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Post_Class_Summary_sent__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The date on which the &quot;Sorry you couldn&apos;t make it&quot; or the &quot;Thanks for attending email was sent
The email is triggered by the Attendance Record status being updated to &quot;Attended&quot; or &quot;Canceled&quot;</inlineHelpText>
        <label>Post Class Summary sent date/time</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Role__c</fullName>
        <externalId>false</externalId>
        <label>Role</label>
        <required>true</required>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Student</fullName>
                    <default>true</default>
                    <label>Student</label>
                </value>
                <value>
                    <fullName>Leader</fullName>
                    <default>false</default>
                    <label>Leader</label>
                </value>
                <value>
                    <fullName>Assistant</fullName>
                    <default>false</default>
                    <label>Assistant</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
</CustomObject>
